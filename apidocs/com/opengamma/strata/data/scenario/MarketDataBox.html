<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MarketDataBox (OpenGamma Strata)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MarketDataBox (OpenGamma Strata)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":1,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":18,"i8":6,"i9":6,"i10":6,"i11":1,"i12":1,"i13":1,"i14":1,"i15":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MarketDataBox.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ],processEscapes: true} });</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.opengamma.strata.data.scenario</a></div>
<h2 title="Interface MarketDataBox" class="title">Interface MarketDataBox&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of data held in the box</dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">MarketDataBox&lt;T&gt;</span></pre>
<div class="block">A box which can provide values for an item of market data used in scenarios.
 <p>
 A box can contain a single value for the data or it can contain multiple values, one for each scenario.
 If it contains a single value then the same value is used in every scenario.
 <p>
 Wrapping the data in a box allows a simple interface for looking up market data that hides whether there
 is one value or multiple values. Without the box every function that uses market data would have to
 handle the two cases separately.
 <p>
 The box also takes care of transforming the market data when using it to build other market data values
 (see the <code>apply</code> methods). This means that market data functions and perturbations don't need
 different logic to deal with single and multiple values.
 <p>
 Using a box allows scenario data to be stored more efficiently in some cases. For example, curve data for
 multiple scenarios can include one copy of the x-axis data which is used in all scenarios. If a separate
 curve were stored for each scenario that data would be unnecessarily stored multiple times.
 <p>
 In some cases a function might need to access the data for all scenarios at the same time. For example, if
 part of the calculation is the same for all scenarios it can be done once and reused instead of recalculated
 for each scenario. In this case a <a href="ScenarioMarketDataId.html" title="interface in com.opengamma.strata.data.scenario"><code>ScenarioMarketDataId</code></a> should be used to retrieve the scenario
 value from the market data container.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;U,&#8203;R&gt;<br><a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#combineWith(com.opengamma.strata.data.scenario.MarketDataBox,java.util.function.BiFunction)">combineWith</a></span>&#8203;(<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;U&gt;&nbsp;other,
           java.util.function.BiFunction&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>,&#8203;U,&#8203;R&gt;&nbsp;fn)</code></th>
<td class="colLast">
<div class="block">Applies a function to the market data in this box and another box and returns a box containing the result.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#empty()">empty</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtains an instance containing no market data.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.Class&lt;?&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMarketDataType()">getMarketDataType</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the type of the market data value used in each scenario.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getScenarioCount()">getScenarioCount</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the number of scenarios for which this box contains data.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="ScenarioArray.html" title="interface in com.opengamma.strata.data.scenario">ScenarioArray</a>&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getScenarioValue()">getScenarioValue</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the market data value containing data for multiple scenarios.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSingleValue()">getSingleValue</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the single market data value used for all scenarios if available.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getValue(int)">getValue</a></span>&#8203;(int&nbsp;scenarioIndex)</code></th>
<td class="colLast">
<div class="block">Gets the market data value associated with the specified scenario.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>default boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isScenarioValue()">isScenarioValue</a></span>()</code></th>
<td class="colLast">
<div class="block">Checks if this box contains market data for multiple scenarios.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isSingleValue()">isSingleValue</a></span>()</code></th>
<td class="colLast">
<div class="block">Checks if this box contains a single market data value that is used for all scenarios.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#map(java.util.function.Function)">map</a></span>&#8203;(java.util.function.Function&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>,&#8203;R&gt;&nbsp;fn)</code></th>
<td class="colLast">
<div class="block">Applies a function to the contents of the box and returns another box.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mapWithIndex(int,com.opengamma.strata.collect.function.ObjIntFunction)">mapWithIndex</a></span>&#8203;(int&nbsp;scenarioCount,
            <a href="../../collect/function/ObjIntFunction.html" title="interface in com.opengamma.strata.collect.function">ObjIntFunction</a>&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>,&#8203;R&gt;&nbsp;fn)</code></th>
<td class="colLast">
<div class="block">Applies a function to the contents of the box once for each scenario and returns a box containing
 the values returned from the function.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofScenarioValue(com.opengamma.strata.data.scenario.ScenarioArray)">ofScenarioValue</a></span>&#8203;(<a href="ScenarioArray.html" title="interface in com.opengamma.strata.data.scenario">ScenarioArray</a>&lt;T&gt;&nbsp;scenarioValue)</code></th>
<td class="colLast">
<div class="block">Obtains an instance containing a scenario market data value with data for multiple scenarios.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofScenarioValues(java.util.List)">ofScenarioValues</a></span>&#8203;(java.util.List&lt;T&gt;&nbsp;scenarioValues)</code></th>
<td class="colLast">
<div class="block">Obtains an instance containing a scenario market data value with data for multiple scenarios.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofScenarioValues(T...)">ofScenarioValues</a></span>&#8203;(T...&nbsp;scenarioValues)</code></th>
<td class="colLast">
<div class="block">Obtains an instance containing a scenario market data value with data for multiple scenarios.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofSingleValue(T)">ofSingleValue</a></span>&#8203;(T&nbsp;singleValue)</code></th>
<td class="colLast">
<div class="block">Obtains an instance containing a single market data value that is used in all scenarios.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.stream.Stream&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#stream()">stream</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a stream over the contents of the box.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="ofSingleValue(java.lang.Object)">
<!--   -->
</a><a id="ofSingleValue(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ofSingleValue</h4>
<pre class="methodSignature">static&nbsp;&lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;&nbsp;ofSingleValue&#8203;(T&nbsp;singleValue)</pre>
<div class="block">Obtains an instance containing a single market data value that is used in all scenarios.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the market data value used in each scenario</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>singleValue</code> - the market data value containing data for a single scenario</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a box containing a single market data value that is used in all scenarios</dd>
</dl>
</li>
</ul>
<a id="ofScenarioValue(com.opengamma.strata.data.scenario.ScenarioArray)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ofScenarioValue</h4>
<pre class="methodSignature">static&nbsp;&lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;&nbsp;ofScenarioValue&#8203;(<a href="ScenarioArray.html" title="interface in com.opengamma.strata.data.scenario">ScenarioArray</a>&lt;T&gt;&nbsp;scenarioValue)</pre>
<div class="block">Obtains an instance containing a scenario market data value with data for multiple scenarios.
 <p>
 The market data is made up of multiple values, one for each scenario.
 The <a href="ScenarioArray.html" title="interface in com.opengamma.strata.data.scenario"><code>ScenarioArray</code></a> instance may provide optimized internal storage of these values.
 <p>
 A box may be created that contains a value for one scenario. Such a box is distinct from
 a box created using <a href="#ofSingleValue(T)"><code>ofSingleValue(Object)</code></a>, which is valid for any number of scenarios.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the market data value used in each scenario</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scenarioValue</code> - the market data value containing data for multiple scenarios</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a box containing a scenario market data value with data for multiple scenarios</dd>
</dl>
</li>
</ul>
<a id="ofScenarioValues(java.lang.Object[])">
<!--   -->
</a><a id="ofScenarioValues(T...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ofScenarioValues</h4>
<pre class="methodSignature">@SafeVarargs
static&nbsp;&lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;&nbsp;ofScenarioValues&#8203;(T...&nbsp;scenarioValues)</pre>
<div class="block">Obtains an instance containing a scenario market data value with data for multiple scenarios.
 <p>
 The market data is made up of multiple values, one for each scenario.
 <p>
 A box may be created that contains a value for one scenario. Such a box is distinct from
 a box created using <a href="#ofSingleValue(T)"><code>ofSingleValue(Object)</code></a>, which is valid for any number of scenarios.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the market data value used in each scenario</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scenarioValues</code> - the market data values for each scenario</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a box containing a scenario market data value with data for multiple scenarios</dd>
</dl>
</li>
</ul>
<a id="ofScenarioValues(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ofScenarioValues</h4>
<pre class="methodSignature">static&nbsp;&lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;&nbsp;ofScenarioValues&#8203;(java.util.List&lt;T&gt;&nbsp;scenarioValues)</pre>
<div class="block">Obtains an instance containing a scenario market data value with data for multiple scenarios.
 <p>
 The market data is made up of multiple values, one for each scenario.
 <p>
 A box may be created that contains a value for one scenario. Such a box is distinct from
 a box created using <a href="#ofSingleValue(T)"><code>ofSingleValue(Object)</code></a>, which is valid for any number of scenarios.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the market data value used in each scenario</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scenarioValues</code> - the market data values for each scenario</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a box containing a scenario market data value with data for multiple scenarios</dd>
</dl>
</li>
</ul>
<a id="empty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>empty</h4>
<pre class="methodSignature">static&nbsp;&lt;T&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;T&gt;&nbsp;empty()</pre>
<div class="block">Obtains an instance containing no market data.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the type of the market data value used in each scenario</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a box containing no market data</dd>
</dl>
</li>
</ul>
<a id="getSingleValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSingleValue</h4>
<pre class="methodSignature"><a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>&nbsp;getSingleValue()</pre>
<div class="block">Gets the single market data value used for all scenarios if available.
 <p>
 If this box contains data for multiple scenarios an exception is thrown.
 <p>
 This method should only be called if <a href="#isSingleValue()"><code>isSingleValue()</code></a> returns <code>true</code>
 or <a href="#isScenarioValue()"><code>isScenarioValue()</code></a> return <code>false</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the single market data value used for all scenarios if available</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - if this box contains data for multiple scenarios</dd>
</dl>
</li>
</ul>
<a id="getScenarioValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScenarioValue</h4>
<pre class="methodSignature"><a href="ScenarioArray.html" title="interface in com.opengamma.strata.data.scenario">ScenarioArray</a>&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>&gt;&nbsp;getScenarioValue()</pre>
<div class="block">Gets the market data value containing data for multiple scenarios.
 <p>
 If this box contains data for a single scenario an exception is thrown.
 <p>
 This method should only be called if <a href="#isSingleValue()"><code>isSingleValue()</code></a> returns <code>false</code>
 or <a href="#isScenarioValue()"><code>isScenarioValue()</code></a> return <code>true</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the market data value containing data for multiple scenarios</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - if this box contains data for a single scenario</dd>
</dl>
</li>
</ul>
<a id="getValue(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValue</h4>
<pre class="methodSignature"><a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>&nbsp;getValue&#8203;(int&nbsp;scenarioIndex)</pre>
<div class="block">Gets the market data value associated with the specified scenario.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scenarioIndex</code> - the index of the scenario</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the market data value associated with the scenario</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IndexOutOfBoundsException</code> - if the index is invalid</dd>
</dl>
</li>
</ul>
<a id="isSingleValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSingleValue</h4>
<pre class="methodSignature">boolean&nbsp;isSingleValue()</pre>
<div class="block">Checks if this box contains a single market data value that is used for all scenarios.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this box contains a single market data value that is used for all scenarios</dd>
</dl>
</li>
</ul>
<a id="isScenarioValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isScenarioValue</h4>
<pre class="methodSignature">default&nbsp;boolean&nbsp;isScenarioValue()</pre>
<div class="block">Checks if this box contains market data for multiple scenarios.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this box contains market data for multiple scenarios</dd>
</dl>
</li>
</ul>
<a id="getScenarioCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScenarioCount</h4>
<pre class="methodSignature">int&nbsp;getScenarioCount()</pre>
<div class="block">Gets the number of scenarios for which this box contains data.
 <p>
 A "single value" box can be used with any number of scenarios.
 To indicate this, the method will return -1.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of scenarios for which this box contains data, -1 if the number is not specified</dd>
</dl>
</li>
</ul>
<a id="getMarketDataType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMarketDataType</h4>
<pre class="methodSignature">java.lang.Class&lt;?&gt;&nbsp;getMarketDataType()</pre>
<div class="block">Gets the type of the market data value used in each scenario.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the type of the market data value used in each scenario</dd>
</dl>
</li>
</ul>
<a id="map(java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>map</h4>
<pre class="methodSignature">&lt;R&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;R&gt;&nbsp;map&#8203;(java.util.function.Function&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>,&#8203;R&gt;&nbsp;fn)</pre>
<div class="block">Applies a function to the contents of the box and returns another box.
 <p>
 The box implementation takes care of checking whether it contains a single value or a scenario value,
 applying the function to the value for each scenario and packing the return value into a box.
 <p>
 This is primarily intended for use by market data factories which might receive single values or
 scenario values from upstream market data factories.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the return type of the function</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fn</code> - a function to apply to the market data in the box</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a result wrapping a box containing the return value of the function</dd>
</dl>
</li>
</ul>
<a id="mapWithIndex(int,com.opengamma.strata.collect.function.ObjIntFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapWithIndex</h4>
<pre class="methodSignature">&lt;R&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;R&gt;&nbsp;mapWithIndex&#8203;(int&nbsp;scenarioCount,
                                  <a href="../../collect/function/ObjIntFunction.html" title="interface in com.opengamma.strata.collect.function">ObjIntFunction</a>&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>,&#8203;R&gt;&nbsp;fn)</pre>
<div class="block">Applies a function to the contents of the box once for each scenario and returns a box containing
 the values returned from the function.
 <p>
 The <a href="#getScenarioCount()"><code>scenario count</code></a> of the box must be one or it must be equal to the
 <code>scenarioCount</code> argument. The <a href="#getScenarioCount()"><code>scenario count</code></a> of the return value
 will be equal to <code>scenarioCount</code>.
 <p>
 The box implementation takes care of checking whether it contains a single value or a scenario value,
 applying the function to the value for each scenario and packing the return values into a box.
 <p>
 This is primarily intended to be used by perturbations which generate separate market data values for
 each scenario data by applying a function to the existing value for the scenario.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the type of the returned market data</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scenarioCount</code> - the total number of scenarios</dd>
<dd><code>fn</code> - the function that is invoked with a scenario index and the market data value for that scenario.
   The return value is used as the scenario data in the returned box</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a box containing market data created by applying the function to the contents of this box</dd>
</dl>
</li>
</ul>
<a id="combineWith(com.opengamma.strata.data.scenario.MarketDataBox,java.util.function.BiFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>combineWith</h4>
<pre class="methodSignature">&lt;U,&#8203;R&gt;&nbsp;<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;R&gt;&nbsp;combineWith&#8203;(<a href="MarketDataBox.html" title="interface in com.opengamma.strata.data.scenario">MarketDataBox</a>&lt;U&gt;&nbsp;other,
                                         java.util.function.BiFunction&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>,&#8203;U,&#8203;R&gt;&nbsp;fn)</pre>
<div class="block">Applies a function to the market data in this box and another box and returns a box containing the result.
 <p>
 The box implementation takes care of checking whether the input boxes contain single values or a scenario values,
 applying the function to the value for each scenario and packing the return value into a box.
 <p>
 This is primarily intended for use by market data factories which might receive single values or
 scenario values from upstream market data factories.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>U</code> - the type of market data in the other box</dd>
<dd><code>R</code> - the type of the market data returned in the result of the function</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>other</code> - another market data box</dd>
<dd><code>fn</code> - the function invoked with the market data from each box. The return value is used to build the data
   in the returned box</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a box containing market data created by applying the function to the data in this box and another box</dd>
</dl>
</li>
</ul>
<a id="stream()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stream</h4>
<pre class="methodSignature">java.util.stream.Stream&lt;<a href="MarketDataBox.html" title="type parameter in MarketDataBox">T</a>&gt;&nbsp;stream()</pre>
<div class="block">Returns a stream over the contents of the box.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a stream over the contents of the box</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MarketDataBox.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ],processEscapes: true} });</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>Copyright 2009-Present by OpenGamma Inc. and individual contributors</i><br/><i>Apache v2 licensed</i><br/><i>Additional documentation can be found at <a href="http://strata.opengamma.io">strata.opengamma.io</a>.</i><script type="text/javascript">var _gaq = _gaq || [];_gaq.push(['_setAccount', 'UA-12092825-5']);_gaq.push(['_trackPageview']);(function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script></small></p>
</footer>
</body>
</html>
